<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BLOXD Code Copier</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: #333;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }
        
        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            text-align: center;
            position: relative;
        }
        
        .language-switcher {
            position: absolute;
            top: 20px;
            right: 20px;
        }
        
        .lang-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
        }
        
        .lang-btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
        }
        
        .title-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }
        
        .title-logo {
            width: 50px;
            height: 50px;
            border-radius: 8px;
            object-fit: cover;
            border: 2px solid #3498db;
        }
        
        h1 {
            color: #2c3e50;
            font-size: 2.5rem;
            margin: 0;
        }
        
        .description {
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .control-panel {
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border: 2px dashed #dee2e6;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .controls-row {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 30px;
            flex-wrap: wrap;
        }
        
        .file-selector {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .file-selector label {
            font-weight: bold;
            white-space: nowrap;
        }
        
        .file-selector select {
            padding: 10px 15px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1rem;
            min-width: 200px;
            background: white;
        }
        
        .btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(52, 152, 219, 0.3);
            display: inline-flex;
            align-items: center;
            justify-content: center;
            white-space: nowrap;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(52, 152, 219, 0.4);
        }
        
        .btn:active {
            transform: translateY(1px);
        }
        
        .btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .content-area {
            margin-top: 30px;
            padding: 25px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            min-height: 150px;
            text-align: left;
            transition: transform 0.3s ease;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            width: 100%;
        }
        
        .content-area:hover {
            transform: translateY(-5px);
        }
        
        .content-area h3 {
            color: #3498db;
            margin-bottom: 20px;
            text-align: center;
            margin-left: 320px; /* è®©æ ‡é¢˜åœ¨å›¾ç‰‡å³ä¾§å±…ä¸­ */
        }
        
        .content-layout {
            display: flex;
            gap: 25px;
            align-items: flex-start;
        }
        
        .screenshot {
            flex-shrink: 0;
            width: 280px;
            height: 180px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
            border: 2px dashed #dee2e6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #7f8c8d;
            font-size: 0.9rem;
        }
        
        .text-content {
            flex: 1;
        }
        
        .text-content p {
            color: #7f8c8d;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background-color: white;
            width: 90%;
            max-width: 800px;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            animation: slideUp 0.4s ease;
        }
        
        .modal-header {
            background: #2c3e50;
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-header h2 {
            margin: 0;
            font-size: 1.5rem;
        }
        
        .close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            transition: transform 0.2s;
        }
        
        .close-btn:hover {
            transform: scale(1.2);
        }
        
        .code-container {
            position: relative;
            padding: 20px;
            background: #f8f9fa;
            border-bottom: 1px solid #e9ecef;
        }
        
        .code-display {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 8px;
            text-align: left;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.5;
            white-space: pre-wrap;
            user-select: text;
        }
        
        .loading {
            text-align: center;
            padding: 20px;
            color: #6c757d;
        }
        
        .modal-footer {
            padding: 15px 20px;
            display: flex;
            justify-content: flex-end;
            background: #f8f9fa;
        }
        
        .copy-btn {
            background: #27ae60;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
            display: flex;
            align-items: center;
        }
        
        .copy-btn:hover {
            background: #219955;
        }
        
        .copy-btn i {
            margin-right: 8px;
        }
        
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #2ecc71;
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1100;
            animation: slideIn 0.3s ease;
        }
        
        .error {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #e74c3c;
            color: white;
            padding: 15px 25px;
            border-radius: 5px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
            display: none;
            z-index: 1100;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes slideUp {
            from { transform: translateY(50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        @keyframes slideIn {
            from { transform: translateX(100px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @media (max-width: 768px) {
            .controls-row {
                flex-direction: column;
                gap: 15px;
            }
            
            .file-selector {
                flex-direction: column;
                width: 100%;
                gap: 10px;
            }
            
            .file-selector select {
                width: 100%;
                min-width: auto;
            }
            
            .btn {
                width: 100%;
            }
            
            .language-switcher {
                position: static;
                margin-bottom: 15px;
            }
            
            .content-layout {
                flex-direction: column;
            }
            
            .screenshot {
                width: 100%;
                height: 150px;
            }
            
            .content-area h3 {
                margin-left: 0;
                text-align: center;
            }
            
            .title-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .title-logo {
                width: 40px;
                height: 40px;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 20px 15px;
            }
            
            h1 {
                font-size: 1.8rem;
            }
            
            .modal-content {
                width: 95%;
            }
            
            .control-panel {
                padding: 15px;
            }
            
            .content-area {
                padding: 20px;
                min-height: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="language-switcher">
            <button class="lang-btn" id="langToggle">EN</button>
        </div>
        
        <div class="title-container">
            <img src="img/bloxd-logo.png" alt="BLOXD Logo" class="title-logo">
            <h1 id="title">BLOXDä»£ç å¤åˆ¶å™¨</h1>
        </div>
        
        <p class="description" id="description">
            è¿™æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œä½ å¯ä»¥é€‰æ‹©æ–‡ä»¶åä¸€é”®å¤åˆ¶ã€‚
        </p>
        
        <!-- ç¬¬ä¸€ä¸ªè™šçº¿æ¡† - è‡ªåŠ¨è·‘é…·ä»£ç  -->
        <div class="control-panel">
            <div class="controls-row">
                <div class="file-selector">
                    <label for="fileSelect" id="fileSelectLabel">æœåŠ¡å™¨ä»£ç ï¼š</label>
                    <select id="fileSelect">
                        <option value="" id="selectDefault">-- è¯·é€‰æ‹©ä»£ç æ–‡ä»¶ --</option>
                        <option value="downloads2/Parkour&code1.txt" id="file1">è‡ªåŠ¨è·‘é…·1</option>
                        <option value="downloads2/Parkour&code2.txt" id="file2">è‡ªåŠ¨è·‘é…·2</option>
                    </select>
                </div>
                
                <button class="btn" id="showCodeBtn" disabled>
                    <i>ğŸ“„</i> <span id="viewCodeText">æŸ¥çœ‹ä»£ç </span>
                </button>
            </div>
        </div>

        <!-- ç¬¬äºŒä¸ªè™šçº¿æ¡† - å…¶ä»–ç±»å‹ä»£ç  -->
        <div class="control-panel">
            <div class="controls-row">
                <div class="file-selector">
                    <label for="fileSelect2" id="fileSelectLabel2">å‘½ä»¤æ–¹å—ä»£ç ï¼š</label>
                    <select id="fileSelect2">
                        <option value="" id="selectDefault2">-- æš‚æ—¶è¿˜æ²¡ä»£ç  --</option>
                        <!-- æš‚æ—¶æ²¡æœ‰é€‰é¡¹ï¼Œç­‰æ‚¨å‡†å¤‡å¥½æ–‡ä»¶åå†æ·»åŠ  -->
                        <!-- <option value="downloads2/CommandBlock1.txt" id="file3">å‘½ä»¤æ–¹å—ä»£ç 1</option> -->
                        <!-- <option value="downloads2/CommandBlock2.txt" id="file4">å‘½ä»¤æ–¹å—ä»£ç 2</option> -->
                    </select>
                </div>
                
                <button class="btn" id="showCodeBtn2" disabled>
                    <i>ğŸ“„</i> <span id="viewCodeText2">æŸ¥çœ‹ä»£ç </span>
                </button>
            </div>
        </div>
        
        <div class="content-area">
            <h3 id="projectTitle">é¡¹ç›®è¯´æ˜</h3>
            <div class="content-layout">
                <div class="screenshot">
                    <!-- æ‚¨å¯ä»¥åœ¨è¿™é‡Œæ›¿æ¢æˆçœŸå®çš„å›¾ç‰‡ -->
                    <img src="img/pig.png" alt="é¡¹ç›®æˆªå›¾" style="width: 100%; height: 100%; object-fit: cover; border-radius: 6px;">
                </div>
                <div class="text-content">
                    <p id="projectText1"><strong>â€¢</strong> ä»£ç ç”¨äºBloxdçš„å‘½ä»¤æ–¹å—å’ŒæœåŠ¡å™¨ä»£ç é‡Œã€‚<br>
                    <strong>â€¢</strong> å¦‚æœä½ éœ€è¦å¯ä»¥ç›´æ¥å¤åˆ¶ï¼Œå¤§éƒ¨åˆ†ä»£ç éƒ½æ˜¯æˆ‘å†™çš„ï¼ˆä¸è¿‡ç”¨äº†AI-Deepseekï¼‰ã€‚ :3<br>
                    <strong>â€¢</strong> æˆ‘åšè¿™ä¸ªç½‘ç«™çš„ä¸»è¦ç”¨é€”: æœ‰äº›åœ°æ–¹æ”¾ä¸äº†å¤ªé•¿çš„ä»£ç ï¼Œæ‰€ä»¥å°±å»ºäº†ä¸€ä¸ªä¸“é—¨å¤åˆ¶ä»£ç çš„å·¥å…·ã€‚</p>
                    <p><small id="projectText2">åˆ¶ä½œè¿™ä¸ªç½‘ç«™ç”¨äº†Deepseek :P</small></p>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal" id="codeModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">ä»£ç å†…å®¹</h2>
                <button class="close-btn" id="closeModalBtn">&times;</button>
            </div>
            <div class="code-container">
                <div class="code-display" id="codeDisplay">
                    <div class="loading" id="loadingText">æ­£åœ¨åŠ è½½ä»£ç ...</div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="copy-btn" id="copyCodeBtn">
                    <i>ğŸ“‹</i> <span id="copyCodeText">å¤åˆ¶ä»£ç </span>
                </button>
            </div>
        </div>
    </div>
    
    <div class="notification" id="copyNotification">
        <span id="copySuccessText">ä»£ç å·²æˆåŠŸå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼</span>
    </div>
    
    <div class="error" id="errorNotification">
        <span id="errorText">åŠ è½½æ–‡ä»¶æ—¶å‡ºé”™ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨</span>
    </div>

    <script>
        // è¯­è¨€é…ç½®
        const translations = {
            'zh': {
                'title': 'BLOXDä»£ç å¤åˆ¶å™¨',
                'description': 'è¿™æ˜¯ä¸€ä¸ªç®€å•æ˜“ç”¨çš„å·¥å…·ï¼Œä½ å¯ä»¥é€‰æ‹©æ–‡ä»¶åä¸€é”®å¤åˆ¶ã€‚',
                'fileSelectLabel': 'æœåŠ¡å™¨ä»£ç ï¼š',
                'fileSelectLabel2': 'å‘½ä»¤æ–¹å—ä»£ç ï¼š',
                'selectDefault': '-- è¯·é€‰æ‹©ä»£ç æ–‡ä»¶ --',
                'selectDefault2': '-- æš‚æ—¶è¿˜æ²¡ä»£ç  --',
                'file1': 'è‡ªåŠ¨è·‘é…·1',
                'file2': 'è‡ªåŠ¨è·‘é…·2',
                'file3': 'å…¶ä»–ä»£ç 1',
                'file4': 'å…¶ä»–ä»£ç 2',
                'viewCodeText': 'æŸ¥çœ‹ä»£ç ',
                'viewCodeText2': 'æŸ¥çœ‹ä»£ç ',
                'modalTitle': 'ä»£ç å†…å®¹',
                'loadingText': 'æ­£åœ¨åŠ è½½ä»£ç ...',
                'copyCodeText': 'å¤åˆ¶ä»£ç ',
                'copySuccessText': 'ä»£ç å·²æˆåŠŸå¤åˆ¶åˆ°å‰ªè´´æ¿ï¼',
                'errorText': 'åŠ è½½æ–‡ä»¶æ—¶å‡ºé”™ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨',
                'projectTitle': 'é¡¹ç›®è¯´æ˜',
                'projectText1': '<strong>â€¢</strong> ä»£ç ç”¨äºBloxdçš„å‘½ä»¤æ–¹å—å’ŒæœåŠ¡å™¨ä»£ç é‡Œã€‚<br><strong>â€¢</strong> å¦‚æœä½ éœ€è¦å¯ä»¥ç›´æ¥å¤åˆ¶ï¼Œå¤§éƒ¨åˆ†ä»£ç éƒ½æ˜¯æˆ‘å†™çš„ï¼ˆä¸è¿‡ç”¨äº†AI-Deepseekï¼‰ã€‚ :3<br><strong>â€¢</strong> æˆ‘åšè¿™ä¸ªç½‘ç«™çš„ä¸»è¦ç”¨é€”: æœ‰äº›åœ°æ–¹æ”¾ä¸äº†å¤ªé•¿çš„ä»£ç ï¼Œæ‰€ä»¥å°±å»ºäº†ä¸€ä¸ªä¸“é—¨å¤åˆ¶ä»£ç çš„å·¥å…·ã€‚',
                'projectText2': 'åˆ¶ä½œè¿™ä¸ªç½‘ç«™ç”¨äº†Deepseek :P',
                'langBtn': 'EN'
            },
            'en': {
                'title': 'BLOXD Code Copier',
                'description': 'A simple and easy-to-use tool that allows you to select files and copy with one click.',
                'fileSelectLabel': 'Worlds Codes:',
                'fileSelectLabel2': 'Command Blocks:',
                'selectDefault': '-- Choose a code file --',
                'selectDefault2': '-- No codes now--',
                'file1': 'Auto Parkour 1',
                'file2': 'Auto Parkour 2',
                'file3': 'Other Code 1',
                'file4': 'Other Code 2',
                'viewCodeText': 'View Code',
                'viewCodeText2': 'View Code',
                'modalTitle': 'Code Content',
                'loadingText': 'Loading code...',
                'copyCodeText': 'Copy Code',
                'copySuccessText': 'Code successfully copied to clipboard!',
                'errorText': 'Error loading file, please check if the file exists',
                'projectTitle': 'Project Description',
                'projectText1': '<strong>â€¢</strong> Codes are for Bloxd code block and worldcode.<br><strong>â€¢</strong> Feel free to copy if needed, most codes are written by me (with AI-Deepseek help). :3<br><strong>â€¢</strong> Main purpose of this website: Some platforms don\'t support long codes, so I created this dedicated code copying tool.',
                'projectText2': 'This website was made with Deepseek :P',
                'langBtn': 'ä¸­æ–‡' 
            }
        };
    
        let currentLanguage = 'zh';
    
        // ç­‰å¾…é¡µé¢å®Œå…¨åŠ è½½åå†æ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });
    
        function initializeApp() {
            // è·å–æ‰€æœ‰DOMå…ƒç´ 
            const elements = {
                langToggle: document.getElementById('langToggle'),
                fileSelect: document.getElementById('fileSelect'),
                fileSelect2: document.getElementById('fileSelect2'),
                showCodeBtn: document.getElementById('showCodeBtn'),
                showCodeBtn2: document.getElementById('showCodeBtn2'),
                codeModal: document.getElementById('codeModal'),
                closeModalBtn: document.getElementById('closeModalBtn'),
                copyCodeBtn: document.getElementById('copyCodeBtn'),
                codeDisplay: document.getElementById('codeDisplay'),
                copyNotification: document.getElementById('copyNotification'),
                errorNotification: document.getElementById('errorNotification'),
                modalTitle: document.getElementById('modalTitle'),
                projectTitle: document.getElementById('projectTitle'),
                projectText1: document.getElementById('projectText1'),
                projectText2: document.getElementById('projectText2'),
                // æ·»åŠ æ‰€æœ‰éœ€è¦ç¿»è¯‘çš„å…ƒç´ 
                title: document.getElementById('title'),
                description: document.getElementById('description'),
                fileSelectLabel: document.getElementById('fileSelectLabel'),
                fileSelectLabel2: document.getElementById('fileSelectLabel2'),
                selectDefault: document.getElementById('selectDefault'),
                selectDefault2: document.getElementById('selectDefault2'),
                file1: document.getElementById('file1'),
                file2: document.getElementById('file2'),
                file3: document.getElementById('file3'),
                file4: document.getElementById('file4'),
                viewCodeText: document.getElementById('viewCodeText'),
                viewCodeText2: document.getElementById('viewCodeText2'),
                loadingText: document.getElementById('loadingText'),
                copyCodeText: document.getElementById('copyCodeText'),
                copySuccessText: document.getElementById('copySuccessText'),
                errorText: document.getElementById('errorText')
            };
    
            let currentFileContent = "";
    
            // åˆå§‹åŒ–æ–‡æœ¬
            updateTexts();
    
            // åˆ‡æ¢è¯­è¨€å‡½æ•°
            function switchLanguage() {
                currentLanguage = currentLanguage === 'zh' ? 'en' : 'zh';
                updateTexts();
            }
    
            // æ›´æ–°æ‰€æœ‰æ–‡æœ¬ - ç®€åŒ–ç‰ˆæœ¬
            function updateTexts() {
                const texts = translations[currentLanguage];
                
                // ä½¿ç”¨æ›´ç›´æ¥çš„æ–¹å¼æ›´æ–°æ‰€æœ‰æ–‡æœ¬
                if (elements.title) elements.title.textContent = texts.title;
                if (elements.description) elements.description.textContent = texts.description;
                if (elements.fileSelectLabel) elements.fileSelectLabel.textContent = texts.fileSelectLabel;
                if (elements.fileSelectLabel2) elements.fileSelectLabel2.textContent = texts.fileSelectLabel2;
                if (elements.selectDefault) elements.selectDefault.textContent = texts.selectDefault;
                if (elements.selectDefault2) elements.selectDefault2.textContent = texts.selectDefault2;
                if (elements.file1) elements.file1.textContent = texts.file1;
                if (elements.file2) elements.file2.textContent = texts.file2;
                if (elements.file3) elements.file3.textContent = texts.file3;
                if (elements.file4) elements.file4.textContent = texts.file4;
                if (elements.viewCodeText) elements.viewCodeText.textContent = texts.viewCodeText;
                if (elements.viewCodeText2) elements.viewCodeText2.textContent = texts.viewCodeText2;
                if (elements.modalTitle) elements.modalTitle.textContent = texts.modalTitle;
                if (elements.loadingText) elements.loadingText.textContent = texts.loadingText;
                if (elements.copyCodeText) elements.copyCodeText.textContent = texts.copyCodeText;
                if (elements.copySuccessText) elements.copySuccessText.textContent = texts.copySuccessText;
                if (elements.errorText) elements.errorText.textContent = texts.errorText;
                if (elements.projectTitle) elements.projectTitle.textContent = texts.projectTitle;
                if (elements.projectText1) elements.projectText1.innerHTML = texts.projectText1;
                if (elements.projectText2) elements.projectText2.textContent = texts.projectText2;
                if (elements.langToggle) elements.langToggle.textContent = texts.langBtn;
                
                console.log('è¯­è¨€å·²åˆ‡æ¢åˆ°:', currentLanguage); // è°ƒè¯•ç”¨
            }
    
            // è¯­è¨€åˆ‡æ¢æŒ‰é’®äº‹ä»¶
            if (elements.langToggle) {
                elements.langToggle.addEventListener('click', switchLanguage);
            }
            
            // æ–‡ä»¶é€‰æ‹©å˜åŒ– - ç¬¬ä¸€ä¸ªä¸‹æ‹‰æ¡†
            if (elements.fileSelect) {
                elements.fileSelect.addEventListener('change', function() {
                    if (elements.fileSelect.value) {
                        elements.showCodeBtn.disabled = false;
                        elements.showCodeBtn.style.background = "#3498db";
                    } else {
                        elements.showCodeBtn.disabled = true;
                    }
                });
            }
    
            // æ–‡ä»¶é€‰æ‹©å˜åŒ– - ç¬¬äºŒä¸ªä¸‹æ‹‰æ¡†
            if (elements.fileSelect2) {
                elements.fileSelect2.addEventListener('change', function() {
                    if (elements.fileSelect2.value) {
                        elements.showCodeBtn2.disabled = false;
                        elements.showCodeBtn2.style.background = "#3498db";
                    } else {
                        elements.showCodeBtn2.disabled = true;
                    }
                });
            }
            
            // æ˜¾ç¤ºæ¨¡æ€æ¡†å¹¶åŠ è½½æ–‡ä»¶ - ç¬¬ä¸€ä¸ªæŒ‰é’®
            if (elements.showCodeBtn) {
                elements.showCodeBtn.addEventListener('click', async () => {
                    const selectedFile = elements.fileSelect.value;
                    if (!selectedFile) return;
                    
                    // æ˜¾ç¤ºæ¨¡æ€æ¡†å’ŒåŠ è½½çŠ¶æ€
                    elements.codeModal.style.display = 'flex';
                    elements.codeDisplay.innerHTML = `<div class="loading">${translations[currentLanguage].loadingText}</div>`;
                    elements.modalTitle.textContent = `${translations[currentLanguage].modalTitle} - ${selectedFile}`;
                    
                    try {
                        // ä½¿ç”¨Fetch APIåŠ è½½TXTæ–‡ä»¶
                        const response = await fetch(selectedFile);
                        
                        if (!response.ok) {
                            throw new Error(`æ–‡ä»¶åŠ è½½å¤±è´¥: ${response.status}`);
                        }
                        
                        currentFileContent = await response.text();
                        elements.codeDisplay.textContent = currentFileContent;
                        
                    } catch (error) {
                        console.error('åŠ è½½æ–‡ä»¶æ—¶å‡ºé”™:', error);
                        elements.codeDisplay.innerHTML = `<div style="color: #e74c3c; text-align: center; padding: 20px;">
                            <p>${translations[currentLanguage].errorText}</p>
                            <p style="font-size: 0.9rem; margin-top: 10px;">${error.message}</p>
                            <p style="font-size: 0.8rem; margin-top: 10px;">è¯·ç¡®ä¿æ–‡ä»¶ "${selectedFile}" å­˜åœ¨äºé¡¹ç›®ç›®å½•ä¸­</p>
                        </div>`;
                        
                        // æ˜¾ç¤ºé”™è¯¯é€šçŸ¥
                        elements.errorNotification.style.display = 'block';
                        setTimeout(() => {
                            elements.errorNotification.style.display = 'none';
                        }, 5000);
                    }
                });
            }
    
            // æ˜¾ç¤ºæ¨¡æ€æ¡†å¹¶åŠ è½½æ–‡ä»¶ - ç¬¬äºŒä¸ªæŒ‰é’®
            if (elements.showCodeBtn2) {
                elements.showCodeBtn2.addEventListener('click', async () => {
                    const selectedFile = elements.fileSelect2.value;
                    if (!selectedFile) return;
                    
                    // æ˜¾ç¤ºæ¨¡æ€æ¡†å’ŒåŠ è½½çŠ¶æ€
                    elements.codeModal.style.display = 'flex';
                    elements.codeDisplay.innerHTML = `<div class="loading">${translations[currentLanguage].loadingText}</div>`;
                    elements.modalTitle.textContent = `${translations[currentLanguage].modalTitle} - ${selectedFile}`;
                    
                    try {
                        // ä½¿ç”¨Fetch APIåŠ è½½TXTæ–‡ä»¶
                        const response = await fetch(selectedFile);
                        
                        if (!response.ok) {
                            throw new Error(`æ–‡ä»¶åŠ è½½å¤±è´¥: ${response.status}`);
                        }
                        
                        currentFileContent = await response.text();
                        elements.codeDisplay.textContent = currentFileContent;
                        
                    } catch (error) {
                        console.error('åŠ è½½æ–‡ä»¶æ—¶å‡ºé”™:', error);
                        elements.codeDisplay.innerHTML = `<div style="color: #e74c3c; text-align: center; padding: 20px;">
                            <p>${translations[currentLanguage].errorText}</p>
                            <p style="font-size: 0.9rem; margin-top: 10px;">${error.message}</p>
                            <p style="font-size: 0.8rem; margin-top: 10px;">è¯·ç¡®ä¿æ–‡ä»¶ "${selectedFile}" å­˜åœ¨äºé¡¹ç›®ç›®å½•ä¸­</p>
                        </div>`;
                        
                        // æ˜¾ç¤ºé”™è¯¯é€šçŸ¥
                        elements.errorNotification.style.display = 'block';
                        setTimeout(() => {
                            elements.errorNotification.style.display = 'none';
                        }, 5000);
                    }
                });
            }
            
            // å…³é—­æ¨¡æ€æ¡†
            if (elements.closeModalBtn) {
                elements.closeModalBtn.addEventListener('click', () => {
                    elements.codeModal.style.display = 'none';
                });
            }
            
            // ç‚¹å‡»æ¨¡æ€æ¡†å¤–éƒ¨å…³é—­
            window.addEventListener('click', (event) => {
                if (event.target === elements.codeModal) {
                    elements.codeModal.style.display = 'none';
                }
            });
            
            // å¤åˆ¶ä»£ç åŠŸèƒ½
            if (elements.copyCodeBtn) {
                elements.copyCodeBtn.addEventListener('click', () => {
                    if (!currentFileContent) return;
                    
                    // åˆ›å»ºä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
                    const textArea = document.createElement('textarea');
                    textArea.value = currentFileContent;
                    document.body.appendChild(textArea);
                    
                    // é€‰æ‹©å¹¶å¤åˆ¶æ–‡æœ¬
                    textArea.select();
                    document.execCommand('copy');
                    
                    // ç§»é™¤ä¸´æ—¶æ–‡æœ¬åŒºåŸŸ
                    document.body.removeChild(textArea);
                    
                    // æ˜¾ç¤ºå¤åˆ¶æˆåŠŸé€šçŸ¥
                    elements.copyNotification.style.display = 'block';
                    
                    // 3ç§’åéšè—é€šçŸ¥
                    setTimeout(() => {
                        elements.copyNotification.style.display = 'none';
                    }, 3000);
                });
            }
            
            // æ·»åŠ ä¸€äº›äº¤äº’æ•ˆæœ
            document.querySelectorAll('.btn').forEach(button => {
                button.addEventListener('mousedown', () => {
                    button.style.transform = 'scale(0.98)';
                });
                
                button.addEventListener('mouseup', () => {
                    button.style.transform = '';
                });
            });
        }
    </script>
</body>
</html>